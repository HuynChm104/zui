<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Noel N√†y ƒêi ƒê√¢u? üéÑ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap');

        :root {
            --red: #c0392b;
            --green: #27ae60;
            --white: #fff;
            --bg-gradient: radial-gradient(circle, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
        }

        body {
            background: #c0392b;
            font-family: 'Patrick Hand', cursive;
            overflow: hidden;
            height: 100vh;
            margin: 0;
        }

        /* --- Hi·ªáu ·ª©ng tuy·∫øt r∆°i --- */
        .snowflake {
            color: #fff;
            font-size: 1.2em;
            position: fixed;
            top: -10%;
            z-index: 9999;
            user-select: none;
            cursor: default;
            animation: snowflakes-fall 10s linear infinite, snowflakes-shake 3s ease-in-out infinite;
        }

        @keyframes snowflakes-fall {
            0% {
                top: -10%;
            }

            100% {
                top: 100%;
            }
        }

        @keyframes snowflakes-shake {

            0%,
            100% {
                transform: translateX(0);
            }

            50% {
                transform: translateX(80px);
            }
        }

        /* --- Container Ch√≠nh --- */
        .screen {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            text-align: center;
            width: 90%;
            max-width: 400px;
            border: 4px dashed var(--green);
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            margin: 0;
            animation: fadeIn 0.5s ease-out;
        }

        #screen-1 {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -40%);
            }

            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }

        h1 {
            color: var(--red);
            font-size: 2.2rem;
            margin: 0 0 10px;
        }

        h2 {
            color: var(--green);
            font-size: 1.8rem;
            margin: 0 0 15px;
        }

        p {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .meme-img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            border-radius: 50%;
            border: 4px solid var(--red);
            margin: 0 auto 15px auto;
            display: block;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn {
            padding: 12px 25px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Patrick Hand', cursive;
            transition: all 0.2s;
            font-weight: bold;
            margin: 5px;
            box-shadow: 0 4px 0 rgba(0, 0, 0, 0.2);
        }

        .btn:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .btn-primary {
            background: var(--green);
            color: white;
        }

        .btn-danger {
            background: var(--red);
            color: white;
        }

        .btn-secondary {
            background: #f39c12;
            color: white;
        }

        /* Select box */
        .custom-select {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            border: 2px solid var(--green);
            font-family: 'Patrick Hand', cursive;
            font-size: 1.2rem;
            margin-bottom: 10px;
            background: #f9f9f9;
            outline: none;
        }

        /* Input box cho ph·∫ßn t·ª± nh·∫≠p */
        .custom-input {
            width: 90%;
            padding: 10px;
            border-radius: 10px;
            border: 2px dashed var(--red);
            font-family: 'Patrick Hand', cursive;
            font-size: 1.1rem;
            margin-bottom: 20px;
            background: #fff;
            outline: none;
            display: none;
            /* M·∫∑c ƒë·ªãnh ·∫©n */
        }

        .btn-container {
            height: 70px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
        }

        #btnNo {
            position: relative;
            z-index: 100;
            transition: top 0.1s, left 0.1s;
        }

        /* --- MODAL (POPUP) --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 20000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .modal-box {
            background: #fff;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            max-width: 85%;
            width: 320px;
            border: 4px solid var(--red);
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from {
                transform: scale(0.5);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .modal-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .modal-text {
            font-size: 1.4rem;
            color: #333;
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .modal-btn-group {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .modal-btn-group .btn {
            width: 100%;
            margin: 5px 0;
        }
    </style>
</head>

<body>

    <audio id="bgMusic" loop>
        <source src="nen.mp3" type="audio/mpeg">
    </audio>

    <div id="screen-1" class="screen">
        <img class="meme-img" src="meme.jpg" alt="Meme">
        <h1>√ä Noel ƒëi ch∆°i h√¥ng?????</h1>
        <p>·ªû nh√† t·ª± k·ªâ qu√°! ƒêi l∆∞·ª£n ƒëi :3</p>
        <div class="btn-container">
            <button class="btn btn-primary" onclick="goToScreen(2)">ƒêi lu√¥n</button>
            <button class="btn btn-danger" id="btnNo" onmouseover="runAway()" onclick="runAway()">ƒê√©o!!!!</button>
        </div>
    </div>

    <div id="screen-2" class="screen">
        <h2>üìç ƒêi ƒë√¢u ƒë∆∞·ª£c???</h2>
        <p>ƒêi loanh quanh H√† N·ªôi nh√©?</p>

        <select id="locationSelect" class="custom-select" onchange="judgeChoice(this, 'loc')">
            <option value="" disabled selected>-- Ch·ªçn ƒë√™ --</option>
            <option value="H·ªì T√¢y">H·ªì T√¢y</option>
            <option value="EonMall">EonMall</option>
            <option value="Ph·ªë ƒêi B·ªô">Ph·ªë ƒêi B·ªô</option>
            <option value="Lotte Mall">Lotte Mall</option>
            <option value="Nh√† ngh·ªâ">Nh√† ngh·ªâ</option>
            <option value="other_loc">Mu·ªën ƒëi ch·ªó kh√°c</option>
        </select>

        <input type="text" id="otherLocation" class="custom-input" placeholder="Nh·∫≠p ƒë·ªãa ƒëi·ªÉm mu·ªën ƒëi v√†o ƒë√¢y...">

        <button class="btn btn-secondary" onclick="showModal('modal-poverty')">Hay b·∫•y b√¨ th√≠ch xu·∫•t ngo·∫°i?</button>
        <br><br>
        <button class="btn btn-primary" onclick="validateAndNext(2, 3)">Ch·ªët ƒëi·ªÉm n√†y</button>
    </div>

    <div id="screen-3" class="screen">
        <h2>üçú Th·∫ø ƒÉn c√°i g√¨?</h2>
        <p>ƒÇn s·∫≠p H√† N·ªôi:</p>

        <select id="foodSelect" class="custom-select" onchange="judgeChoice(this, 'food')">
            <option value="" disabled selected>-- Ch·ªçn m√≥n ƒë√™ --</option>
            <option value="L·∫©u">L·∫©u</option>
            <option value="N∆∞·ªõng">N∆∞·ªõng</option>
            <option value="·ªêc">·ªêc</option>
            <option value="ƒÇn shit">ƒÇn shit</option>
            <option value="ƒÇn ƒë·∫•m">ƒÇn ƒë·∫•m (???)</option>
            <option value="other_food">Th√≠ch ƒÉn c√°i kh√°c</option>
        </select>

        <input type="text" id="otherFood" class="custom-input" placeholder="Mu·ªën ƒÉn s∆°n h√†o h·∫£i v·ªã g√¨? Nh·∫≠p ƒë√™...">

        <button class="btn btn-primary" onclick="validateAndNext(3, 4)">Ti·∫øp t·ª•c</button>
    </div>

    <div id="screen-4" class="screen">
        <img class="meme-img" src="meme.jpg" alt="Money Meme">
        <h2>üí∏ V·∫•n ƒë·ªÅ nh·∫°y c·∫£m: Ai tr·∫£ ti·ªÅn?</h2>
        <p>Ch·ªçn h·ªô c√°i coi:</p>
        <select id="paySelect" class="custom-select" onchange="judgeChoice(this, 'pay')">
            <option value="" disabled selected>-- Ai tr·∫£ ti·ªÅn? --</option>
            <option value="M·∫•y b·∫°n bao tui">M·∫•y b·∫°n bao tui</option>
            <option value="Campuchia (Nh∆∞ng m·∫•y b·∫°n ch·ªãu 90%)">Campuchia (Nh∆∞ng m·∫•y b·∫°n ch·ªãu 90%)</option>
            <option value="Tao bao (Tao m·ªõi tr√∫ng s·ªë)">Tao bao (Tao m·ªõi tr√∫ng s·ªë)</option>
            <option value="Nh·ªãn">Nh·ªãn</option>
        </select>
        <button class="btn btn-primary" onclick="validateAndNext(4, 'finish')">CH·ªêT ƒê∆†N üöÄ</button>
    </div>

    <div id="screen-5" class="screen">
        <h1>üéâ DONE K√àO!</h1>
        <p>Ch·ª•p m√†n h√¨nh l·∫°i g·ª≠i tao ngay nh√©!</p>
        <div
            style="background: #fff; padding: 15px; border: 2px dashed #333; border-radius: 10px; text-align: left; margin-bottom: 20px;">
            <p style="margin:5px 0">üìç <b>ƒêi ch∆°i ·ªü:</b> <span id="res-loc" style="color:var(--red)">...</span></p>
            <p style="margin:5px 0">üçú <b>ƒÇn:</b> <span id="res-food" style="color:var(--red)">...</span></p>
            <p style="margin:5px 0">üí∏ <b>Ng∆∞·ªùi chi:</b> <span id="res-pay" style="color:var(--green)">...</span></p>
        </div>
        <button class="btn btn-primary" onclick="sendInbox()">Alo ƒë·ªÉ ch·ªët k√®o üòé</button>
    </div>

    <div id="modal-judge" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-icon" id="judge-icon">ü§î</div>
            <div class="modal-text" id="judge-text">...</div>
            <div class="modal-btn-group">
                <button class="btn btn-danger" id="btn-judge-keep" onclick="confirmJudge()">K·ªá tao, tao th√≠ch
                    th·∫ø!</button>
                <button class="btn btn-secondary" onclick="resetJudge()">Th√¨ ch·ªçn c√°i kh√°cüôÑ</button>
            </div>
        </div>
    </div>

    <div id="modal-force" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-icon" style="color: var(--red);">üëø</div>
            <div class="modal-text"><b>:))))</b><br>L√™u l√™u kh√¥ng ch·ªçn ƒë∆∞·ª£c ƒë√¢u</div>
            <button class="btn btn-primary" onclick="acceptForce()">(Cam ch·ªãu)</button>
        </div>
    </div>

    <div id="modal-poverty" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-icon" style="color: #f39c12;">üòí</div>
            <div class="modal-text"><b>·ªí H·ªî!</b><br>Ngh√®o m√† b√†y ƒë·∫∑t l√†m sang qu√° m√° :)))) <br>S·ªëng v·ªõi th·ª±c t·∫°i ƒë√™!
            </div>
            <button class="btn btn-primary" onclick="closeModal('modal-poverty')">Bi·∫øt r·ªìi kh·ªï l·∫Øm üò≠</button>
        </div>
    </div>

    <div id="modal-confirm" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-icon" style="color: var(--green);">üíñ</div>
            <div class="modal-text"><b>CH·ªêT K√àO NH√â!</b><br>ƒê∆°n ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n. <br>Chu·∫©n b·ªã ti·ªÅn ƒëi l√† v·ª´a!</div>
            <button class="btn btn-primary" onclick="showSummary()">Ph·∫£i OKüëå</button>
        </div>
    </div>

    <div id="modal-warning" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-icon" style="color: var(--red);">‚ö†Ô∏è</div>
            <div class="modal-text" id="warn-text"><b>CH∆ØA CH·ªåN K√åA!</b><br>R·∫•t l√† ƒÉn b·ªõt qu√° tr√¨nh ƒë·∫•y nh√°!.</div>
            <button class="btn btn-primary" onclick="closeModal('modal-warning')">ƒê·ªÉ ch·ªçn l·∫°i</button>
        </div>
    </div>

    <script>
        const roasts = {
            "H·ªì T√¢y": "L√™n ƒë·∫•y h√≠t b·ª•i m·ªãn v·ªõi ƒÉn c·∫©u l∆∞∆°ng √†? üòí",
            "EonMall": "ƒêi l∆∞·ª£n l∆∞·ª£n r·ªìi kh√¥ng mua g√¨ ƒë√∫ng kh√¥ng? T ƒë·ªçc m nh∆∞ cu·ªën s√°ch",
            "Ph·ªë ƒêi B·ªô": "L√™n gh√©p ƒë√¥i hay g√¨?",
            "Lotte Mall": "L·∫°i ƒëi l∆∞·ª£n r·ªìi kh√¥ng mua g√¨:))))",
            "Nh√† ngh·ªâ": "V√†o ƒë√°nh b√†i √†?",
            "L·∫©u": "L√∫c n√†o c≈©ng l·∫©u!",
            "N∆∞·ªõng": "N∆∞·ªõng v·ªâa h√® h·ª£p l√Ω n√®!",
            "·ªêc": "Ng·ªìi ch·∫•m m√∫t ch·∫•m m√∫t!",
            "ƒÇn shit": "H√≥a ra m l·∫°i th√≠ch m√≥n n√†y √†? EWWWWWW!",
            "ƒÇn ƒë·∫•m": "ƒê∆∞a m·∫∑t ra ƒë√¢y ƒë·ªÉ t b√≥n üëä",
            "M·∫•y b·∫°n bao tui": "Kh√¥n nh∆∞ m√†y qu√™ tao x√≠ch ƒë·∫ßy ngo√†i c·ªïng!",
            "Campuchia (Nh∆∞ng m·∫•y b·∫°n ch·ªãu 90%)": "Kh√¥ng ∆∞ng l·∫Øm nh∆∞ng t·∫°m ch·∫•p nh·∫≠n ƒë·∫•y!",
            "Tao bao (Tao m·ªõi tr√∫ng s·ªë)": "M√†y ƒëi√™n √†? Ti·ªÅn ƒë√¢u m√† bao? üò° H·ªá th·ªëng t·ª´ ch·ªëi v√¨ l√Ω do: 'ti·∫øn c√≥ ƒë√®o'.",
            "Nh·ªãn": "ƒêi ch∆°i m√† ƒë√≤i nh·ªãn? ·ªû nh√† cho l√†nh!",

            // Roast cho ph·∫ßn t·ª± nh·∫≠p
            "other_loc": "Ch·ªãu! Th√≠ch ch·ªó n√†o th√¨ t·ª± ghi v√†o ƒë√≥ üòí",
            "other_food": "M ƒë·ªãnh ƒÉn h·∫£i s·∫£n ch·ª© g√¨! üòí"
        };

        let currentSelectElement = null;
        let chaseCount = 0;

        // --- 0. T·ª∞ ƒê·ªòNG PH√ÅT NH·∫†C (ƒê√É FIX) ---
        // H√†m n√†y s·∫Ω t·ª± ƒë·ªông ch·∫°y khi web t·∫£i xong
        // N√≥ s·∫Ω ch·ªù c√∫ click chu·ªôt ho·∫∑c ch·∫°m tay ƒë·∫ßu ti√™n ƒë·ªÉ b·∫≠t nh·∫°c
        document.addEventListener('DOMContentLoaded', function () {
            var audio = document.getElementById("bgMusic");

            // Th·ª≠ ph√°t lu√¥n (m·ªôt s·ªë tr√¨nh duy·ªát s·∫Ω ch·∫∑n)
            var playPromise = audio.play();

            if (playPromise !== undefined) {
                playPromise.then(_ => {
                    // Autoplay th√†nh c√¥ng
                    console.log("Nh·∫°c ƒë√£ l√™n!");
                })
                    .catch(error => {
                        // N·∫øu b·ªã ch·∫∑n, s·∫Ω ch·ªù ng∆∞·ªùi d√πng t∆∞∆°ng t√°c
                        console.log("Ch·ªù ng∆∞·ªùi d√πng t∆∞∆°ng t√°c ƒë·ªÉ ph√°t nh·∫°c...");
                        var playOnInteraction = function () {
                            audio.play();
                            // G·ª° b·ªè s·ª± ki·ªán sau khi ƒë√£ ph√°t ƒë∆∞·ª£c nh·∫°c
                            document.removeEventListener('click', playOnInteraction);
                            document.removeEventListener('mousemove', playOnInteraction);
                            document.removeEventListener('touchstart', playOnInteraction);
                            document.removeEventListener('keydown', playOnInteraction);
                        };

                        // G·∫Øn s·ª± ki·ªán v√†o to√†n b·ªô trang web
                        document.addEventListener('click', playOnInteraction);
                        document.addEventListener('mousemove', playOnInteraction);
                        document.addEventListener('touchstart', playOnInteraction);
                        document.addEventListener('keydown', playOnInteraction);
                    });
            }
        });

        // --- 1. LOGIC N√öT CH·∫†Y TR·ªêN ---
        function runAway() {
            const btnNo = document.getElementById('btnNo');
            chaseCount++;
            if (chaseCount >= 5) {
                btnNo.style.display = 'none';
                showModal('modal-force');
                return;
            }
            if (btnNo.parentNode !== document.body) {
                document.body.appendChild(btnNo);
            }
            btnNo.style.position = 'fixed'; btnNo.style.zIndex = '9999';
            const maxWidth = window.innerWidth - btnNo.offsetWidth - 20;
            const maxHeight = window.innerHeight - btnNo.offsetHeight - 20;
            const newX = Math.random() * maxWidth;
            const newY = Math.random() * maxHeight;
            btnNo.style.left = Math.max(20, newX) + 'px';
            btnNo.style.top = Math.max(20, newY) + 'px';
        }

        function acceptForce() { closeModal('modal-force'); goToScreen(2); }

        // --- 2. LOGIC PH√ÅN X√âT & HI·ªÜN √î NH·∫¨P ---
        function judgeChoice(selectElement, type) {
            currentSelectElement = selectElement;
            const val = selectElement.value;
            const btnKeep = document.getElementById('btn-judge-keep');

            // Logic ·∫©n hi·ªán √¥ Input
            if (type === 'loc') {
                const inputLoc = document.getElementById('otherLocation');
                if (val === 'other_loc') inputLoc.style.display = 'block';
                else inputLoc.style.display = 'none';
            }
            if (type === 'food') {
                const inputFood = document.getElementById('otherFood');
                if (val === 'other_food') inputFood.style.display = 'block';
                else inputFood.style.display = 'none';
            }

            let msg = roasts[val] || "Ch·ªçn c√°i n√†y th·∫≠t √°? Gu m·∫∑n v√£i...";
            let icon = "ü§î";
            if (type === 'pay') icon = "üí∏";
            if (type === 'food') icon = "üçú";

            // Logic c·∫•m ch·ªçn "Tao bao"
            if (val === "Tao bao (Tao m·ªõi tr√∫ng s·ªë)") {
                icon = "üö´";
                btnKeep.style.display = 'none';
            } else {
                btnKeep.style.display = 'inline-block';
            }

            document.getElementById('judge-text').innerText = msg;
            document.getElementById('judge-icon').innerText = icon;
            showModal('modal-judge');
        }

        function confirmJudge() { closeModal('modal-judge'); }
        function resetJudge() {
            closeModal('modal-judge');
            if (currentSelectElement) {
                currentSelectElement.selectedIndex = 0;
                // N·∫øu reset, ·∫©n lu√¥n √¥ input n·∫øu ƒëang hi·ªán
                if (currentSelectElement.id === 'locationSelect') document.getElementById('otherLocation').style.display = 'none';
                if (currentSelectElement.id === 'foodSelect') document.getElementById('otherFood').style.display = 'none';
            }
        }

        // --- 3. VALIDATE & NEXT ---
        function validateAndNext(currentStep, nextStep) {
            let valid = true;
            let warnMsg = "R·∫•t l√† ƒÉn b·ªõt qu√° tr√¨nh ƒë·∫•y nh√°!";

            // Validate Screen 2 (Location)
            if (currentStep === 2) {
                const locVal = document.getElementById('locationSelect').value;
                if (locVal === "") valid = false;
                // N·∫øu ch·ªçn t·ª± nh·∫≠p m√† ƒë·ªÉ tr·ªëng
                if (locVal === 'other_loc' && document.getElementById('otherLocation').value.trim() === "") {
                    valid = false;
                    warnMsg = "Nh·∫≠p v√†o th√¨ m·ªõi bi·∫øt ƒëi ƒë√¢u ch·ª©! T c√≥ ƒë·ªçc ƒëc c√°i m nghƒ© ƒë√¢u?";
                }
            }

            // Validate Screen 3 (Food)
            if (currentStep === 3) {
                const foodVal = document.getElementById('foodSelect').value;
                if (foodVal === "") valid = false;
                // N·∫øu ch·ªçn t·ª± nh·∫≠p m√† ƒë·ªÉ tr·ªëng
                if (foodVal === 'other_food' && document.getElementById('otherFood').value.trim() === "") {
                    valid = false;
                    warnMsg = "Ghi ƒëi? Hay th√≠ch ƒÉn shit th·∫≠t?";
                }
            }

            // Validate Screen 4 (Pay)
            if (currentStep === 4) {
                const payVal = document.getElementById('paySelect').value;
                if (payVal === "") valid = false;
                if (payVal === "Tao bao") {
                    alert("ƒê√£ b·∫£o l√† kh√¥ng c√≥ ti·ªÅn m√†! Ch·ªçn l·∫°i ƒëi!");
                    return;
                }
            }

            if (!valid) {
                document.getElementById('warn-text').innerHTML = `<b>CH∆ØA XONG ƒê√ÇU!</b><br>${warnMsg}`;
                showModal('modal-warning');
                return;
            }

            if (nextStep === 'finish') {
                showModal('modal-confirm');
            } else {
                goToScreen(nextStep);
            }
        }

        function goToScreen(screenId) {
            // ƒê·∫£m b·∫£o nh·∫°c ch·∫°y n·∫øu ch∆∞a ch·∫°y
            playMusic();
            document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
            document.getElementById('screen-' + screenId).style.display = 'block';
        }

        // --- 4. T·ªîNG K·∫æT ---
        function showSummary() {
            closeModal('modal-confirm');

            // L·∫•y gi√° tr·ªã Location
            let loc = document.getElementById('locationSelect').value;
            if (loc === 'other_loc') {
                // N·∫øu ch·ªçn t·ª± nh·∫≠p th√¨ l·∫•y text trong √¥ input
                loc = document.getElementById('otherLocation').value + " (Do m ch·ªçn ƒë·∫•y)";
            }

            // L·∫•y gi√° tr·ªã Food
            let food = document.getElementById('foodSelect').value;
            if (food === 'other_food') {
                food = document.getElementById('otherFood').value + " (Duy·ªát)";
            }

            let pay = document.getElementById('paySelect').value;

            document.getElementById('res-loc').innerText = loc;
            document.getElementById('res-food').innerText = food;
            document.getElementById('res-pay').innerText = pay;
            goToScreen(5);
        }

        function sendInbox() {
            alert("ƒêang m·ªü Messenger... Nh·ªõ g·ª≠i ·∫£nh ch·ª•p m√†n h√¨nh n√†y nh√©!");
            window.location.href = "https://www.facebook.com/chamt.huyen.10/";
        }

        function showModal(id) { document.getElementById(id).style.display = 'flex'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }

        // H√†m helper ph√°t nh·∫°c
        function playMusic() {
            var audio = document.getElementById("bgMusic");
            if (audio.paused) audio.play().catch(e => console.log("ƒêang ch·ªù t∆∞∆°ng t√°c..."));
        }

        // T·∫°o tuy·∫øt r∆°i
        function createSnow() {
            for (let i = 0; i < 30; i++) {
                let snow = document.createElement("div");
                snow.className = "snowflake";
                snow.innerHTML = ["‚ùÑ", "‚ùÖ", "‚ùÜ"][Math.floor(Math.random() * 3)];
                snow.style.left = Math.random() * 100 + "%";
                snow.style.animationDelay = Math.random() * 5 + "s";
                document.body.appendChild(snow);
            }
        }
        createSnow();
    </script>
</body>

</html>